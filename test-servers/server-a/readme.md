
FeignClientFactoryBean 代理生成
1.没配置url:走负载
LoadBalancerFeignClient 
2.配置url:不走负载，直接httpConnect
Default

动态修改url配置，据url配置选择走负载或走httpConnect
改造

FeignClientFactoryBean
SynchronousMethodHandler
改写SynchronousMethodHandler 的client 再代理一层
在client 代理处理是选择负载或直接connect
启动时改 创建loadbalanceClient 


FeignInvocationHandler->SynchronousMethodHandler


SpringApplication.run
refreshContext

ApplicationContextInitializer

刷新配置处理

routFilter
RibbonRoutingFilter
fallback

AbstractRibbonCommand
execute
失败如果fallback，处理fallback


HystrixCommand#getFallbackObservable

AbstractCommand#executeCommandAndObserve
AbstractCommand#applyHystrixSemantics
AbstractCommand#toObservable
HystrixCommand#execute
queue()
toObservable()真正的处理逻辑开始
applyHystrixSemantics()判断是否可执行，如果不可执行走熔断handleShortCircuitViaFallback，
如果可以执行走正常流程
handleShortCircuitViaFallback()创建一下异常

executeCommandAndObserve()
executeCommandWithSpecifiedIsolation() 隔离模式
getUserExecutionObservable（）
getExecutionObservable（）
AbstractRibbonCommand#run()接口，真正执行的地方
RibbonLoadBalancingHttpClient#executeWithLoadBalancer

